<%= form_with(model: product, local: true) do |form| %>
  <% if product.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% product.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
<div class="container">
    <div class="row">
        <div class="col">
            <div class="card">
                <div class="card-header bg-primary text-white"><i class="bi bi-plus-circle"></i> Add Product
                </div>
                <div class="card-body">
                    <form>
                        <div class="field form-group">
                  <%= form.label :category %><br>
                    <%#= select(:blog, :categories, @categories.collect {|cat| [cat.name, cat.id]},  {}, multiple: true ) %>
                    <%= collection_check_boxes(:product, :categories, @categories, :id, :name) do |b|
                      b.label { b.check_box + b.text}
                      end
                    %>
                  </div>
                      <div class="field form-group">
                    <%= form.label :new_category %><br>
                    <input type='text' name="product[new_categories]" class="form-control"  placeholder="Enter new categories here..... Separate with comma">
                  </div>
                        <div class="form-group">
                            <label for="name"><%= form.label :title %></label>
                            <%= form.text_field :title, class:"form-control", placeholder:"Your product title" %>
                            
                        </div>
                       <div class="form-group">
                            <label for="name"><%= form.label :stock %></label>
                            <%= form.number_field :stock, class:"form-control", placeholder:"Stock quantity .."%>                            
                        </div>
                       <div class="form-group">
                            <label for="name"><%= form.label :price %></label>
                            <%= form.number_field :price, class:"form-control", placeholder:"Product price .."%>    
                            
                        </div>
                        <div class="form-group">
                            <label for="message">Desc</label>
                            <%= form.rich_text_area :description, class:"form-control"  %>
                        </div>
                        <div class="mx-auto">
                        <%= form.submit class:"btn btn-light" %>
                        </div>
                    </form>
                </div>
            </div>
        </div>
</div>
<% end %>